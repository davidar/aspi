>>> % 1. Add all the natural numbers below 1000 that are multiples of 3 or 5.
>>> #sum(0..999 multiple[3|5])?
--> what(E) :- E = #sum { D : aggregation((1),D) }.
    disjunction1(A) :- A = 3.
    disjunction1(A) :- A = 5.
    aggregation((1),C) :- C = 0 .. 999, C \ B = 0, disjunction1(B).
that: 233168.

>>> 
>>> % 2. Find the sum of all the even-valued terms in the Fibonacci sequence which do not exceed one million.
>>> fib[0]: 0.
--> fib(0,0).
understood.

>>> fib[1]: 1.
--> fib(1,1).
understood.

>>> fib[N 2..45]: fib[N-1] + fib[N-2].
--> fib(D,A) :- A = MuN, A = 2 .. 45, fib(B,MuN-1), fib(C,MuN-2), D = B + C.
understood.

>>> fib: fib[0..45].
--> fib(B) :- fib(B,A), A = 0 .. 45.
understood.

>>> #set(fib)?
--> what(B) :- setof((1),B).
    gather((1),A) :- fib(A).
that: set(0,1,2,3,5,8,13,21,34,55,89,144,233,377,610,987,1597,2584,4181,6765,10946,17711,28657,46368,75025,121393,196418,317811,514229,832040,1346269,2178309,3524578,5702887,9227465,14930352,24157817,39088169,63245986,102334155,165580141,267914296,433494437,701408733,1134903170).

>>> #bag(fib)?
--> what(B) :- bagof((2),B).
    gather((2),(A,P0)) :- proof(P0,fib(A)).
that: bag(0,1,1,2,3,5,8,13,21,34,55,89,144,233,377,610,987,1597,2584,4181,6765,10946,17711,28657,46368,75025,121393,196418,317811,514229,832040,1346269,2178309,3524578,5702887,9227465,14930352,24157817,39088169,63245986,102334155,165580141,267914296,433494437,701408733,1134903170).

>>> proof.fib(13)?
--> what(A) :- proof(A,fib(13)).
that: proof((fib(1,2),fib(0,0),fib(1,1)),(fib(2,3),fib(1,1),fib(1,2)),(fib(3,4),fib(1,2),fib(2,3)),(fib(5,5),fib(1,2),fib(2,3),fib(3,4)),(fib(8,6),fib(1,2),fib(2,3),fib(3,4),fib(5,5)),(fib(13,7),fib(1,2),fib(2,3),fib(3,4),fib(5,5),fib(8,6)),(fib(13),fib(1,2),fib(2,3),fib(3,4),fib(5,5),fib(8,6),fib(13,7))).

>>> #sum(even fib (<).1000000)?
--> what(C) :- C = #sum { B : aggregation((2),B) }.
    aggregation((2),A) :- A \ 2 = 0, fib(A), A < 1000000.
that: 1089154.

>>> 
>>> % 3. Find the largest prime factor of 42.
>>> composite: N multiple[2..(N-1)] n3.
--> composite(B) :- B = MuN, B \ A = 0, A = 2 .. (MuN-1), n3(B).
understood.

>>> prime: (>).1 ~composite n3.
--> prime(B) :- B > 1, not negation((1),B), n3(B).
    negation((1),A) :- composite(A).
understood.

>>> prime?
--> what(A) :- prime(A).
that: 2 | 3 | 5 | 7 | 11 | 13 | 17 | 19 | 23 | 29 | 31 | 37 | 41 | 43 | 47 | 53 | 59 | 61 | 67 | 71 | 73 | 79 | 83 | 89 | 97 | 101 | 103 | 107 | 109 | 113 | 127 | 131 | 137 | 139 | 149 | 151 | 157 | 163 | 167 | 173 | 179 | 181 | 191 | 193 | 197 | 199 | 211 | 223 | 227 | 229 | 233 | 239 | 241 | 251 | 257 | 263 | 269 | 271 | 277 | 281 | 283 | 293 | 307 | 311 | 313 | 317 | 331 | 337 | 347 | 349 | 353 | 359 | 367 | 373 | 379 | 383 | 389 | 397 | 401 | 409 | 419 | 421 | 431 | 433 | 439 | 443 | 449 | 457 | 461 | 463 | 467 | 479 | 487 | 491 | 499 | 503 | 509 | 521 | 523 | 541 | 547 | 557 | 563 | 569 | 571 | 577 | 587 | 593 | 599 | 601 | 607 | 613 | 617 | 619 | 631 | 641 | 643 | 647 | 653 | 659 | 661 | 673 | 677 | 683 | 691 | 701 | 709 | 719 | 727 | 733 | 739 | 743 | 751 | 757 | 761 | 769 | 773 | 787 | 797 | 809 | 811 | 821 | 823 | 827 | 829 | 839 | 853 | 857 | 859 | 863 | 877 | 881 | 883 | 887 | 907 | 911 | 919 | 929 | 937 | 941 | 947 | 953 | 967 | 971 | 977 | 983 | 991 | 997.

>>> factor[X n3]: prime multiple'[X].
--> factor(B,A) :- A = MuX, n3(A), prime(B), MuX \ B = 0.
understood.

>>> factor.42?
--> what(A) :- factor(A,42).
that: 2 | 3 | 7.

>>> #most((>), factor.42)?
--> what(B) :- B > A : factor(A,42), B != A; factor(B,42).
that: 7.

>>> 
>>> % 4. Find the largest palindrome made from the product of two 2-digit numbers.
>>> show'[S reverse.S] (10..99)*(10..99)?
--> what(D) :- A = @show(D), A = MuS, A = @reverse(MuS), B = 10 .. 99, C = 10 .. 99, D = B * C.
that: 121 | 242 | 363 | 484 | 616 | 737 | 858 | 979 | 1001 | 252 | 444 | 636 | 696 | 828 | 888 | 494 | 585 | 676 | 767 | 949 | 434 | 686 | 868 | 525 | 555 | 272 | 464 | 656 | 848 | 323 | 595 | 646 | 969 | 414 | 666 | 1881 | 777 | 2002 | 2112 | 575 | 989 | 1771 | 999 | 2772 | 2552 | 1221 | 1551 | 2442 | 3003 | 2992 | 3663 | 2332 | 4004 | 4224 | 4554 | 3773 | 4664 | 5005 | 5115 | 5225 | 5335 | 5445 | 4774 | 6336 | 4884 | 6006 | 7227 | 5775 | 6776 | 7007 | 8118 | 8008 | 8448 | 9009.

>>> #most((>), show'[S reverse.S] (10..99)*(10..99))?
--> what(F) :- F > D : superlative((1),D), F != D; superlative((1),F).
    superlative((1),E) :- A = @show(E), A = MuS, A = @reverse(MuS), B = 10 .. 99, C = 10 .. 99, E = B * C.
that: 9009.

>>> 
>>> % 5. What is the smallest number divisible by each of the numbers 1 to 10?
>>> #most((<), #each(multiple, 1..10) n4)?
--> what(E) :- E < C : superlative((3),C), E != C; superlative((3),E).
    superlative((2),B) :- B = 1 .. 10.
    superlative((3),D) :- D \ A = 0 : superlative((2),A); n4(D).
that: 2520.

>>> 
>>> % 6. What is the difference between the sum of the squares and the square of the sums?
>>> #sum((1..100) ** 2)?
--> what(D) :- D = #sum { C : aggregation((3),C) }.
    aggregation((3),B) :- A = 1 .. 100, B = A ** 2.
that: 338350.

>>> #sum(1..100) ** 2?
--> what(D) :- C = #sum { B : aggregation((4),B) }, D = C ** 2.
    aggregation((4),A) :- A = 1 .. 100.
that: 25502500.

>>> 
>>> % 7. Find the 101st prime.
>>> #enumerate(101, prime)?
--> what(B) :- enumerate(3,A,B), A = 101.
    gather(3,A) :- prime(A).
that: 547.

>>> 
>>> % 8. Discover the largest product of four consecutive digits in the 10-digit number.
>>> four_digits: substring."0319989000" length'.4.
--> four_digits(E) :- E = @substring("0319989000",F,G), H = @length("0319989000"), F = 0 .. H, I = H - F, G = 0 .. I, 4 = @length(E).
understood.

>>> four_digits?
--> what(A) :- four_digits(A).
that: "0319" | "3199" | "1998" | "9989" | "9890" | "8900" | "9000".

>>> #macro char.S: substring.S length'.1.
--> char(E,MuS) :- E = @substring(MuS,F,G), H = @length(MuS), F = 0 .. H, I = H - F, G = 0 .. I, 1 = @length(E).
understood.

>>> product.#bag(decimal.char.S): four_digits(S)?
--> what(M) :- M = @productof(L), bagof((4,MuS),L), four_digits(MuS).
    gather((4,MuS),(K,P0)) :- proof(P0,aggregation((5,MuS),K)), four_digits(MuS).
    aggregation((5,MuS),J) :- J = @decimal(E), E = @substring(MuS,F,G), H = @length(MuS), F = 0 .. H, I = H - F, G = 0 .. I, 1 = @length(E), four_digits(MuS).
that: 0 | 243 | 648 | 5832.

>>> #max(that)?
--> what(B) :- B = #max { A : that(A) }.
that: 5832.

>>> 
>>> % 9. There is only one Pythagorean triplet, {a, b, c}, for which a + b + c = 96. Find the product abc.
>>> pythag(A n2, B n2, C n2): (A**2) = ((B**2) + (C**2)).
--> pythag(A,B,C) :- A = MuA, n2(A), B = MuB, n2(B), C = MuC, n2(C), (MuA**2) = ((MuB**2)+(MuC**2)).
understood.

>>> pythag[3,4]?
--> what(A) :- pythag(A,3,4).
that: 5.

>>> triple(A,B,C): pythag(A,B,C)?
--> what(triple(MuA,MuB,MuC)) :- pythag(MuA,MuB,MuC).
that: triple(5,4,3) | triple(5,3,4) | triple(13,12,5) | triple(10,8,6) | triple(25,24,7) | triple(10,6,8) | triple(17,15,8) | triple(15,12,9) | triple(41,40,9) | triple(26,24,10) | triple(61,60,11) | triple(13,5,12) | triple(15,9,12) | triple(20,16,12) | triple(37,35,12) | triple(85,84,13) | triple(50,48,14) | triple(17,8,15) | triple(25,20,15) | triple(39,36,15) | triple(20,12,16) | triple(34,30,16) | triple(65,63,16) | triple(30,24,18) | triple(82,80,18) | triple(25,15,20) | triple(29,21,20) | triple(52,48,20) | triple(29,20,21) | triple(35,28,21) | triple(75,72,21) | triple(25,7,24) | triple(26,10,24) | triple(30,18,24) | triple(40,32,24) | triple(51,45,24) | triple(74,70,24) | triple(65,60,25) | triple(45,36,27) | triple(35,21,28) | triple(53,45,28) | triple(34,16,30) | triple(50,40,30) | triple(78,72,30) | triple(40,24,32) | triple(68,60,32) | triple(55,44,33) | triple(65,56,33) | triple(37,12,35) | triple(91,84,35) | triple(39,15,36) | triple(45,27,36) | triple(60,48,36) | triple(85,77,36) | triple(65,52,39) | triple(89,80,39) | triple(41,9,40) | triple(50,30,40) | triple(58,42,40) | triple(85,75,40) | triple(58,40,42) | triple(70,56,42) | triple(55,33,44) | triple(51,24,45) | triple(53,28,45) | triple(75,60,45) | triple(50,14,48) | triple(52,20,48) | triple(60,36,48) | triple(73,55,48) | triple(80,64,48) | triple(85,68,51) | triple(65,39,52) | triple(90,72,54) | triple(73,48,55) | triple(65,33,56) | triple(70,42,56) | triple(95,76,57) | triple(61,11,60) | triple(65,25,60) | triple(68,32,60) | triple(75,45,60) | triple(87,63,60) | triple(65,16,63) | triple(87,60,63) | triple(80,48,64) | triple(97,72,65) | triple(85,51,68) | triple(74,24,70) | triple(75,21,72) | triple(78,30,72) | triple(90,54,72) | triple(97,65,72) | triple(85,40,75) | triple(95,57,76) | triple(85,36,77) | triple(82,18,80) | triple(89,39,80) | triple(85,13,84) | triple(91,35,84).

>>> triple(A,B,C): pythag(A,B,C), ((A+B)+C) = 96?
--> what(triple(MuA,MuB,MuC)) :- pythag(MuA,MuB,MuC), ((MuA+MuB)+MuC) = 96.
that: triple(40,32,24) | triple(40,24,32).

>>> #set(triple(A,B,C): pythag(A,B,C), ((A+B)+C) = 96)?
--> what(B) :- setof((5,MuA,MuB,MuC),B).
    gather((5,MuA,MuB,MuC),A) :- aggregation((6,MuA,MuB,MuC),A).
    aggregation((6,MuA,MuB,MuC),triple(MuA,MuB,MuC)) :- pythag(MuA,MuB,MuC), ((MuA+MuB)+MuC) = 96.
that: set(triple(40,32,24)) | set(triple(40,24,32)).

>>> (A*B)*C: pythag(A,B,C), ((A+B)+C) = 96?
--> what((MuA*MuB)*MuC) :- pythag(MuA,MuB,MuC), ((MuA+MuB)+MuC) = 96.
that: 30720.

>>> 
>>> % 10. Calculate the sum of all the primes below one hundred.
>>> #sum(prime (<).100)?
--> what(C) :- C = #sum { B : aggregation((7),B) }.
    aggregation((7),A) :- prime(A), A < 100.
that: 1060.

>>> 
>>> % 12. What is the first triangle number to have over twenty divisors?
>>> triangle: sum.#set(1..N): N = 1..99.
--> triangle(E) :- E = @sumof(C), setof((6,MuN),C), MuN = D, D = 1 .. 99.
    gather((6,MuN),B) :- aggregation((8,MuN),B), MuN = D, D = 1 .. 99.
    aggregation((8,MuN),A) :- A = 1 .. MuN, MuN = D, D = 1 .. 99.
understood.

>>> triangle (<).100?
--> what(A) :- triangle(A), A < 100.
that: 1 | 3 | 6 | 10 | 15 | 21 | 28 | 36 | 45 | 55 | 66 | 78 | 91.

>>> divisor[X n3]: multiple'[X] n3.
--> divisor(B,A) :- A = MuX, n3(A), MuX \ B = 0, n3(B).
understood.

>>> divisors[X n3]: count.#set(divisor.X).
--> divisors(D,A) :- A = MuX, n3(A), D = @countof(C), setof((7,MuX),C).
    gather((7,MuX),B) :- divisor(B,MuX), A = MuX, n3(A).
understood.

>>> triangle N: divisors.N > 20?
--> what(B) :- triangle(B), B = MuN, A > 20, divisors(A,MuN).
that: 630 | 780 | 990.

>>> #most((<), that)?
--> what(B) :- B < A : that(A), B != A; that(B).
that: 630.

>>> divisor.that?
--> what(B) :- divisor(B,A), that(A).
that: 1 | 2 | 3 | 5 | 6 | 7 | 9 | 10 | 14 | 15 | 18 | 21 | 30 | 35 | 42 | 45 | 63 | 70 | 90 | 105 | 126 | 210 | 315 | 630.

>>> 
>>> % 14. Find the longest Collatz sequence using a starting number under ten.
>>> collatz[N even n3]: N / 2.
--> collatz(MuN/2,A) :- A = MuN, A \ 2 = 0, n3(A).
understood.

>>> collatz[N odd n3]: (3*N) + 1.
--> collatz((3*MuN)+1,A) :- A = MuN, A \ 2 = 1, n3(A).
understood.

>>> collatz_steps.1: 0.
--> collatz_steps(0,1).
understood.

>>> collatz_steps[N (>).1 n3]: 1 + collatz_steps[collatz.N].
--> collatz_steps(D,A) :- A = MuN, A > 1, n3(A), collatz_steps(C,B), collatz(B,MuN), D = 1 + C.
understood.

>>> collatz_steps[1..10]?
--> what(B) :- collatz_steps(B,A), A = 1 .. 10.
that: 0 | 1 | 7 | 2 | 5 | 8 | 16 | 3 | 19 | 6.

>>> #max(collatz_steps[1..10])?
--> what(D) :- D = #max { C : aggregation((9),C) }.
    aggregation((9),B) :- collatz_steps(B,A), A = 1 .. 10.
that: 19.

>>> #argmax(collatz_steps, 1..10)?
--> what(F) :- A = #max { E : aggregation((10),E) }, collatz_steps(A,F), superlative((4),F).
    superlative((4),B) :- B = 1 .. 10.
    aggregation((10),D) :- collatz_steps(D,C), superlative((4),C).
that: 9.

>>> 
>>> % 16. What is the sum of the digits of the number 2^10?
>>> 2**10?
--> what(2**10).
that: 1024.

>>> #macro digit.N: decimal.char.show.N.
--> digit(K,MuN) :- K = @decimal(F), F = @substring(A,G,H), I = @length(A), G = 0 .. I, J = I - G, H = 0 .. J, 1 = @length(F), A = @show(MuN).
understood.

>>> sum.#bag(digit[2**10])?
--> what(P) :- P = @sumof(O), bagof((8),O).
    gather((8),(N,P0)) :- proof(P0,aggregation((11),N)).
    aggregation((11),G) :- G = @decimal(H), H = @substring(I,J,K), L = @length(I), J = 0 .. L, M = L - J, K = 0 .. M, 1 = @length(H), I = @show(2**10).
that: 7.

>>> 
>>> % 17. How many letters would be needed to write all the numbers in words from 1 to 1000?
>>> say.0: "".
--> say("",0).
understood.

>>> say.1: "one".
--> say("one",1).
understood.

>>> say.2: "two".
--> say("two",2).
understood.

>>> say.3: "three".
--> say("three",3).
understood.

>>> say.4: "four".
--> say("four",4).
understood.

>>> say.5: "five".
--> say("five",5).
understood.

>>> say.6: "six".
--> say("six",6).
understood.

>>> say.7: "seven".
--> say("seven",7).
understood.

>>> say.8: "eight".
--> say("eight",8).
understood.

>>> say.9: "nine".
--> say("nine",9).
understood.

>>> say.10: "ten".
--> say("ten",10).
understood.

>>> say.11: "eleven".
--> say("eleven",11).
understood.

>>> say.12: "twelve".
--> say("twelve",12).
understood.

>>> say.13: "thirteen".
--> say("thirteen",13).
understood.

>>> say.14: "fourteen".
--> say("fourteen",14).
understood.

>>> say.15: "fifteen".
--> say("fifteen",15).
understood.

>>> say.16: "sixteen".
--> say("sixteen",16).
understood.

>>> say.17: "seventeen".
--> say("seventeen",17).
understood.

>>> say.18: "eighteen".
--> say("eighteen",18).
understood.

>>> say.19: "nineteen".
--> say("nineteen",19).
understood.

>>> say.20: "twenty".
--> say("twenty",20).
understood.

>>> say.30: "thirty".
--> say("thirty",30).
understood.

>>> say.40: "forty".
--> say("forty",40).
understood.

>>> say.50: "fifty".
--> say("fifty",50).
understood.

>>> say.60: "sixty".
--> say("sixty",60).
understood.

>>> say.70: "seventy".
--> say("seventy",70).
understood.

>>> say.80: "eighty".
--> say("eighty",80).
understood.

>>> say.90: "ninety".
--> say("ninety",90).
understood.

>>> say[N ~multiple.10 20..99]: concatenate[say[(N/10)*10], " ", say[N\10]].
--> say(F,B) :- B = MuN, not negation((2),B), B = 20 .. 99, F = @concatenate(C,G), G = @concatenate(" ",D), say(C,(MuN/10)*10), say(D,MuN\10).
    negation((2),A) :- A \ 10 = 0, A = 20 .. 99.
understood.

>>> say[N multiple.100 100..900]: concatenate[say[N/100], " hundred"].
--> say(C,A) :- A = MuN, A \ 100 = 0, A = 100 .. 900, C = @concatenate(B," hundred"), say(B,MuN/100).
understood.

>>> say[N ~multiple.100 101..999]: concatenate[say[(N/100)*100], " and ", say[N\100]].
--> say(F,B) :- B = MuN, not negation((3),B), B = 101 .. 999, F = @concatenate(C,G), G = @concatenate(" and ",D), say(C,(MuN/100)*100), say(D,MuN\100).
    negation((3),A) :- A \ 100 = 0, A = 101 .. 999.
understood.

>>> say[N multiple.1000 1000..9000]: concatenate[say[N/1000], " thousand"].
--> say(C,A) :- A = MuN, A \ 1000 = 0, A = 1000 .. 9000, C = @concatenate(B," thousand"), say(B,MuN/1000).
understood.

>>> say[1..1000]?
--> what(B) :- say(B,A), A = 1 .. 1000.
that: "one" | "two" | "three" | "four" | "five" | "six" | "seven" | "eight" | "nine" | "ten" | "eleven" | "twelve" | "thirteen" | "fourteen" | "fifteen" | "sixteen" | "seventeen" | "eighteen" | "nineteen" | "twenty" | "twenty one" | "twenty two" | "twenty three" | "twenty four" | "twenty five" | "twenty six" | "twenty seven" | "twenty eight" | "twenty nine" | "thirty" | "thirty one" | "thirty two" | "thirty three" | "thirty four" | "thirty five" | "thirty six" | "thirty seven" | "thirty eight" | "thirty nine" | "forty" | "forty one" | "forty two" | "forty three" | "forty four" | "forty five" | "forty six" | "forty seven" | "forty eight" | "forty nine" | "fifty" | "fifty one" | "fifty two" | "fifty three" | "fifty four" | "fifty five" | "fifty six" | "fifty seven" | "fifty eight" | "fifty nine" | "sixty" | "sixty one" | "sixty two" | "sixty three" | "sixty four" | "sixty five" | "sixty six" | "sixty seven" | "sixty eight" | "sixty nine" | "seventy" | "seventy one" | "seventy two" | "seventy three" | "seventy four" | "seventy five" | "seventy six" | "seventy seven" | "seventy eight" | "seventy nine" | "eighty" | "eighty one" | "eighty two" | "eighty three" | "eighty four" | "eighty five" | "eighty six" | "eighty seven" | "eighty eight" | "eighty nine" | "ninety" | "ninety one" | "ninety two" | "ninety three" | "ninety four" | "ninety five" | "ninety six" | "ninety seven" | "ninety eight" | "ninety nine" | "one hundred" | "one hundred and one" | "one hundred and two" | "one hundred and three" | "one hundred and four" | "one hundred and five" | "one hundred and six" | "one hundred and seven" | "one hundred and eight" | "one hundred and nine" | "one hundred and ten" | "one hundred and eleven" | "one hundred and twelve" | "one hundred and thirteen" | "one hundred and fourteen" | "one hundred and fifteen" | "one hundred and sixteen" | "one hundred and seventeen" | "one hundred and eighteen" | "one hundred and nineteen" | "one hundred and twenty" | "one hundred and twenty one" | "one hundred and twenty two" | "one hundred and twenty three" | "one hundred and twenty four" | "one hundred and twenty five" | "one hundred and twenty six" | "one hundred and twenty seven" | "one hundred and twenty eight" | "one hundred and twenty nine" | "one hundred and thirty" | "one hundred and thirty one" | "one hundred and thirty two" | "one hundred and thirty three" | "one hundred and thirty four" | "one hundred and thirty five" | "one hundred and thirty six" | "one hundred and thirty seven" | "one hundred and thirty eight" | "one hundred and thirty nine" | "one hundred and forty" | "one hundred and forty one" | "one hundred and forty two" | "one hundred and forty three" | "one hundred and forty four" | "one hundred and forty five" | "one hundred and forty six" | "one hundred and forty seven" | "one hundred and forty eight" | "one hundred and forty nine" | "one hundred and fifty" | "one hundred and fifty one" | "one hundred and fifty two" | "one hundred and fifty three" | "one hundred and fifty four" | "one hundred and fifty five" | "one hundred and fifty six" | "one hundred and fifty seven" | "one hundred and fifty eight" | "one hundred and fifty nine" | "one hundred and sixty" | "one hundred and sixty one" | "one hundred and sixty two" | "one hundred and sixty three" | "one hundred and sixty four" | "one hundred and sixty five" | "one hundred and sixty six" | "one hundred and sixty seven" | "one hundred and sixty eight" | "one hundred and sixty nine" | "one hundred and seventy" | "one hundred and seventy one" | "one hundred and seventy two" | "one hundred and seventy three" | "one hundred and seventy four" | "one hundred and seventy five" | "one hundred and seventy six" | "one hundred and seventy seven" | "one hundred and seventy eight" | "one hundred and seventy nine" | "one hundred and eighty" | "one hundred and eighty one" | "one hundred and eighty two" | "one hundred and eighty three" | "one hundred and eighty four" | "one hundred and eighty five" | "one hundred and eighty six" | "one hundred and eighty seven" | "one hundred and eighty eight" | "one hundred and eighty nine" | "one hundred and ninety" | "one hundred and ninety one" | "one hundred and ninety two" | "one hundred and ninety three" | "one hundred and ninety four" | "one hundred and ninety five" | "one hundred and ninety six" | "one hundred and ninety seven" | "one hundred and ninety eight" | "one hundred and ninety nine" | "two hundred" | "two hundred and one" | "two hundred and two" | "two hundred and three" | "two hundred and four" | "two hundred and five" | "two hundred and six" | "two hundred and seven" | "two hundred and eight" | "two hundred and nine" | "two hundred and ten" | "two hundred and eleven" | "two hundred and twelve" | "two hundred and thirteen" | "two hundred and fourteen" | "two hundred and fifteen" | "two hundred and sixteen" | "two hundred and seventeen" | "two hundred and eighteen" | "two hundred and nineteen" | "two hundred and twenty" | "two hundred and twenty one" | "two hundred and twenty two" | "two hundred and twenty three" | "two hundred and twenty four" | "two hundred and twenty five" | "two hundred and twenty six" | "two hundred and twenty seven" | "two hundred and twenty eight" | "two hundred and twenty nine" | "two hundred and thirty" | "two hundred and thirty one" | "two hundred and thirty two" | "two hundred and thirty three" | "two hundred and thirty four" | "two hundred and thirty five" | "two hundred and thirty six" | "two hundred and thirty seven" | "two hundred and thirty eight" | "two hundred and thirty nine" | "two hundred and forty" | "two hundred and forty one" | "two hundred and forty two" | "two hundred and forty three" | "two hundred and forty four" | "two hundred and forty five" | "two hundred and forty six" | "two hundred and forty seven" | "two hundred and forty eight" | "two hundred and forty nine" | "two hundred and fifty" | "two hundred and fifty one" | "two hundred and fifty two" | "two hundred and fifty three" | "two hundred and fifty four" | "two hundred and fifty five" | "two hundred and fifty six" | "two hundred and fifty seven" | "two hundred and fifty eight" | "two hundred and fifty nine" | "two hundred and sixty" | "two hundred and sixty one" | "two hundred and sixty two" | "two hundred and sixty three" | "two hundred and sixty four" | "two hundred and sixty five" | "two hundred and sixty six" | "two hundred and sixty seven" | "two hundred and sixty eight" | "two hundred and sixty nine" | "two hundred and seventy" | "two hundred and seventy one" | "two hundred and seventy two" | "two hundred and seventy three" | "two hundred and seventy four" | "two hundred and seventy five" | "two hundred and seventy six" | "two hundred and seventy seven" | "two hundred and seventy eight" | "two hundred and seventy nine" | "two hundred and eighty" | "two hundred and eighty one" | "two hundred and eighty two" | "two hundred and eighty three" | "two hundred and eighty four" | "two hundred and eighty five" | "two hundred and eighty six" | "two hundred and eighty seven" | "two hundred and eighty eight" | "two hundred and eighty nine" | "two hundred and ninety" | "two hundred and ninety one" | "two hundred and ninety two" | "two hundred and ninety three" | "two hundred and ninety four" | "two hundred and ninety five" | "two hundred and ninety six" | "two hundred and ninety seven" | "two hundred and ninety eight" | "two hundred and ninety nine" | "three hundred" | "three hundred and one" | "three hundred and two" | "three hundred and three" | "three hundred and four" | "three hundred and five" | "three hundred and six" | "three hundred and seven" | "three hundred and eight" | "three hundred and nine" | "three hundred and ten" | "three hundred and eleven" | "three hundred and twelve" | "three hundred and thirteen" | "three hundred and fourteen" | "three hundred and fifteen" | "three hundred and sixteen" | "three hundred and seventeen" | "three hundred and eighteen" | "three hundred and nineteen" | "three hundred and twenty" | "three hundred and twenty one" | "three hundred and twenty two" | "three hundred and twenty three" | "three hundred and twenty four" | "three hundred and twenty five" | "three hundred and twenty six" | "three hundred and twenty seven" | "three hundred and twenty eight" | "three hundred and twenty nine" | "three hundred and thirty" | "three hundred and thirty one" | "three hundred and thirty two" | "three hundred and thirty three" | "three hundred and thirty four" | "three hundred and thirty five" | "three hundred and thirty six" | "three hundred and thirty seven" | "three hundred and thirty eight" | "three hundred and thirty nine" | "three hundred and forty" | "three hundred and forty one" | "three hundred and forty two" | "three hundred and forty three" | "three hundred and forty four" | "three hundred and forty five" | "three hundred and forty six" | "three hundred and forty seven" | "three hundred and forty eight" | "three hundred and forty nine" | "three hundred and fifty" | "three hundred and fifty one" | "three hundred and fifty two" | "three hundred and fifty three" | "three hundred and fifty four" | "three hundred and fifty five" | "three hundred and fifty six" | "three hundred and fifty seven" | "three hundred and fifty eight" | "three hundred and fifty nine" | "three hundred and sixty" | "three hundred and sixty one" | "three hundred and sixty two" | "three hundred and sixty three" | "three hundred and sixty four" | "three hundred and sixty five" | "three hundred and sixty six" | "three hundred and sixty seven" | "three hundred and sixty eight" | "three hundred and sixty nine" | "three hundred and seventy" | "three hundred and seventy one" | "three hundred and seventy two" | "three hundred and seventy three" | "three hundred and seventy four" | "three hundred and seventy five" | "three hundred and seventy six" | "three hundred and seventy seven" | "three hundred and seventy eight" | "three hundred and seventy nine" | "three hundred and eighty" | "three hundred and eighty one" | "three hundred and eighty two" | "three hundred and eighty three" | "three hundred and eighty four" | "three hundred and eighty five" | "three hundred and eighty six" | "three hundred and eighty seven" | "three hundred and eighty eight" | "three hundred and eighty nine" | "three hundred and ninety" | "three hundred and ninety one" | "three hundred and ninety two" | "three hundred and ninety three" | "three hundred and ninety four" | "three hundred and ninety five" | "three hundred and ninety six" | "three hundred and ninety seven" | "three hundred and ninety eight" | "three hundred and ninety nine" | "four hundred" | "four hundred and one" | "four hundred and two" | "four hundred and three" | "four hundred and four" | "four hundred and five" | "four hundred and six" | "four hundred and seven" | "four hundred and eight" | "four hundred and nine" | "four hundred and ten" | "four hundred and eleven" | "four hundred and twelve" | "four hundred and thirteen" | "four hundred and fourteen" | "four hundred and fifteen" | "four hundred and sixteen" | "four hundred and seventeen" | "four hundred and eighteen" | "four hundred and nineteen" | "four hundred and twenty" | "four hundred and twenty one" | "four hundred and twenty two" | "four hundred and twenty three" | "four hundred and twenty four" | "four hundred and twenty five" | "four hundred and twenty six" | "four hundred and twenty seven" | "four hundred and twenty eight" | "four hundred and twenty nine" | "four hundred and thirty" | "four hundred and thirty one" | "four hundred and thirty two" | "four hundred and thirty three" | "four hundred and thirty four" | "four hundred and thirty five" | "four hundred and thirty six" | "four hundred and thirty seven" | "four hundred and thirty eight" | "four hundred and thirty nine" | "four hundred and forty" | "four hundred and forty one" | "four hundred and forty two" | "four hundred and forty three" | "four hundred and forty four" | "four hundred and forty five" | "four hundred and forty six" | "four hundred and forty seven" | "four hundred and forty eight" | "four hundred and forty nine" | "four hundred and fifty" | "four hundred and fifty one" | "four hundred and fifty two" | "four hundred and fifty three" | "four hundred and fifty four" | "four hundred and fifty five" | "four hundred and fifty six" | "four hundred and fifty seven" | "four hundred and fifty eight" | "four hundred and fifty nine" | "four hundred and sixty" | "four hundred and sixty one" | "four hundred and sixty two" | "four hundred and sixty three" | "four hundred and sixty four" | "four hundred and sixty five" | "four hundred and sixty six" | "four hundred and sixty seven" | "four hundred and sixty eight" | "four hundred and sixty nine" | "four hundred and seventy" | "four hundred and seventy one" | "four hundred and seventy two" | "four hundred and seventy three" | "four hundred and seventy four" | "four hundred and seventy five" | "four hundred and seventy six" | "four hundred and seventy seven" | "four hundred and seventy eight" | "four hundred and seventy nine" | "four hundred and eighty" | "four hundred and eighty one" | "four hundred and eighty two" | "four hundred and eighty three" | "four hundred and eighty four" | "four hundred and eighty five" | "four hundred and eighty six" | "four hundred and eighty seven" | "four hundred and eighty eight" | "four hundred and eighty nine" | "four hundred and ninety" | "four hundred and ninety one" | "four hundred and ninety two" | "four hundred and ninety three" | "four hundred and ninety four" | "four hundred and ninety five" | "four hundred and ninety six" | "four hundred and ninety seven" | "four hundred and ninety eight" | "four hundred and ninety nine" | "five hundred" | "five hundred and one" | "five hundred and two" | "five hundred and three" | "five hundred and four" | "five hundred and five" | "five hundred and six" | "five hundred and seven" | "five hundred and eight" | "five hundred and nine" | "five hundred and ten" | "five hundred and eleven" | "five hundred and twelve" | "five hundred and thirteen" | "five hundred and fourteen" | "five hundred and fifteen" | "five hundred and sixteen" | "five hundred and seventeen" | "five hundred and eighteen" | "five hundred and nineteen" | "five hundred and twenty" | "five hundred and twenty one" | "five hundred and twenty two" | "five hundred and twenty three" | "five hundred and twenty four" | "five hundred and twenty five" | "five hundred and twenty six" | "five hundred and twenty seven" | "five hundred and twenty eight" | "five hundred and twenty nine" | "five hundred and thirty" | "five hundred and thirty one" | "five hundred and thirty two" | "five hundred and thirty three" | "five hundred and thirty four" | "five hundred and thirty five" | "five hundred and thirty six" | "five hundred and thirty seven" | "five hundred and thirty eight" | "five hundred and thirty nine" | "five hundred and forty" | "five hundred and forty one" | "five hundred and forty two" | "five hundred and forty three" | "five hundred and forty four" | "five hundred and forty five" | "five hundred and forty six" | "five hundred and forty seven" | "five hundred and forty eight" | "five hundred and forty nine" | "five hundred and fifty" | "five hundred and fifty one" | "five hundred and fifty two" | "five hundred and fifty three" | "five hundred and fifty four" | "five hundred and fifty five" | "five hundred and fifty six" | "five hundred and fifty seven" | "five hundred and fifty eight" | "five hundred and fifty nine" | "five hundred and sixty" | "five hundred and sixty one" | "five hundred and sixty two" | "five hundred and sixty three" | "five hundred and sixty four" | "five hundred and sixty five" | "five hundred and sixty six" | "five hundred and sixty seven" | "five hundred and sixty eight" | "five hundred and sixty nine" | "five hundred and seventy" | "five hundred and seventy one" | "five hundred and seventy two" | "five hundred and seventy three" | "five hundred and seventy four" | "five hundred and seventy five" | "five hundred and seventy six" | "five hundred and seventy seven" | "five hundred and seventy eight" | "five hundred and seventy nine" | "five hundred and eighty" | "five hundred and eighty one" | "five hundred and eighty two" | "five hundred and eighty three" | "five hundred and eighty four" | "five hundred and eighty five" | "five hundred and eighty six" | "five hundred and eighty seven" | "five hundred and eighty eight" | "five hundred and eighty nine" | "five hundred and ninety" | "five hundred and ninety one" | "five hundred and ninety two" | "five hundred and ninety three" | "five hundred and ninety four" | "five hundred and ninety five" | "five hundred and ninety six" | "five hundred and ninety seven" | "five hundred and ninety eight" | "five hundred and ninety nine" | "six hundred" | "six hundred and one" | "six hundred and two" | "six hundred and three" | "six hundred and four" | "six hundred and five" | "six hundred and six" | "six hundred and seven" | "six hundred and eight" | "six hundred and nine" | "six hundred and ten" | "six hundred and eleven" | "six hundred and twelve" | "six hundred and thirteen" | "six hundred and fourteen" | "six hundred and fifteen" | "six hundred and sixteen" | "six hundred and seventeen" | "six hundred and eighteen" | "six hundred and nineteen" | "six hundred and twenty" | "six hundred and twenty one" | "six hundred and twenty two" | "six hundred and twenty three" | "six hundred and twenty four" | "six hundred and twenty five" | "six hundred and twenty six" | "six hundred and twenty seven" | "six hundred and twenty eight" | "six hundred and twenty nine" | "six hundred and thirty" | "six hundred and thirty one" | "six hundred and thirty two" | "six hundred and thirty three" | "six hundred and thirty four" | "six hundred and thirty five" | "six hundred and thirty six" | "six hundred and thirty seven" | "six hundred and thirty eight" | "six hundred and thirty nine" | "six hundred and forty" | "six hundred and forty one" | "six hundred and forty two" | "six hundred and forty three" | "six hundred and forty four" | "six hundred and forty five" | "six hundred and forty six" | "six hundred and forty seven" | "six hundred and forty eight" | "six hundred and forty nine" | "six hundred and fifty" | "six hundred and fifty one" | "six hundred and fifty two" | "six hundred and fifty three" | "six hundred and fifty four" | "six hundred and fifty five" | "six hundred and fifty six" | "six hundred and fifty seven" | "six hundred and fifty eight" | "six hundred and fifty nine" | "six hundred and sixty" | "six hundred and sixty one" | "six hundred and sixty two" | "six hundred and sixty three" | "six hundred and sixty four" | "six hundred and sixty five" | "six hundred and sixty six" | "six hundred and sixty seven" | "six hundred and sixty eight" | "six hundred and sixty nine" | "six hundred and seventy" | "six hundred and seventy one" | "six hundred and seventy two" | "six hundred and seventy three" | "six hundred and seventy four" | "six hundred and seventy five" | "six hundred and seventy six" | "six hundred and seventy seven" | "six hundred and seventy eight" | "six hundred and seventy nine" | "six hundred and eighty" | "six hundred and eighty one" | "six hundred and eighty two" | "six hundred and eighty three" | "six hundred and eighty four" | "six hundred and eighty five" | "six hundred and eighty six" | "six hundred and eighty seven" | "six hundred and eighty eight" | "six hundred and eighty nine" | "six hundred and ninety" | "six hundred and ninety one" | "six hundred and ninety two" | "six hundred and ninety three" | "six hundred and ninety four" | "six hundred and ninety five" | "six hundred and ninety six" | "six hundred and ninety seven" | "six hundred and ninety eight" | "six hundred and ninety nine" | "seven hundred" | "seven hundred and one" | "seven hundred and two" | "seven hundred and three" | "seven hundred and four" | "seven hundred and five" | "seven hundred and six" | "seven hundred and seven" | "seven hundred and eight" | "seven hundred and nine" | "seven hundred and ten" | "seven hundred and eleven" | "seven hundred and twelve" | "seven hundred and thirteen" | "seven hundred and fourteen" | "seven hundred and fifteen" | "seven hundred and sixteen" | "seven hundred and seventeen" | "seven hundred and eighteen" | "seven hundred and nineteen" | "seven hundred and twenty" | "seven hundred and twenty one" | "seven hundred and twenty two" | "seven hundred and twenty three" | "seven hundred and twenty four" | "seven hundred and twenty five" | "seven hundred and twenty six" | "seven hundred and twenty seven" | "seven hundred and twenty eight" | "seven hundred and twenty nine" | "seven hundred and thirty" | "seven hundred and thirty one" | "seven hundred and thirty two" | "seven hundred and thirty three" | "seven hundred and thirty four" | "seven hundred and thirty five" | "seven hundred and thirty six" | "seven hundred and thirty seven" | "seven hundred and thirty eight" | "seven hundred and thirty nine" | "seven hundred and forty" | "seven hundred and forty one" | "seven hundred and forty two" | "seven hundred and forty three" | "seven hundred and forty four" | "seven hundred and forty five" | "seven hundred and forty six" | "seven hundred and forty seven" | "seven hundred and forty eight" | "seven hundred and forty nine" | "seven hundred and fifty" | "seven hundred and fifty one" | "seven hundred and fifty two" | "seven hundred and fifty three" | "seven hundred and fifty four" | "seven hundred and fifty five" | "seven hundred and fifty six" | "seven hundred and fifty seven" | "seven hundred and fifty eight" | "seven hundred and fifty nine" | "seven hundred and sixty" | "seven hundred and sixty one" | "seven hundred and sixty two" | "seven hundred and sixty three" | "seven hundred and sixty four" | "seven hundred and sixty five" | "seven hundred and sixty six" | "seven hundred and sixty seven" | "seven hundred and sixty eight" | "seven hundred and sixty nine" | "seven hundred and seventy" | "seven hundred and seventy one" | "seven hundred and seventy two" | "seven hundred and seventy three" | "seven hundred and seventy four" | "seven hundred and seventy five" | "seven hundred and seventy six" | "seven hundred and seventy seven" | "seven hundred and seventy eight" | "seven hundred and seventy nine" | "seven hundred and eighty" | "seven hundred and eighty one" | "seven hundred and eighty two" | "seven hundred and eighty three" | "seven hundred and eighty four" | "seven hundred and eighty five" | "seven hundred and eighty six" | "seven hundred and eighty seven" | "seven hundred and eighty eight" | "seven hundred and eighty nine" | "seven hundred and ninety" | "seven hundred and ninety one" | "seven hundred and ninety two" | "seven hundred and ninety three" | "seven hundred and ninety four" | "seven hundred and ninety five" | "seven hundred and ninety six" | "seven hundred and ninety seven" | "seven hundred and ninety eight" | "seven hundred and ninety nine" | "eight hundred" | "eight hundred and one" | "eight hundred and two" | "eight hundred and three" | "eight hundred and four" | "eight hundred and five" | "eight hundred and six" | "eight hundred and seven" | "eight hundred and eight" | "eight hundred and nine" | "eight hundred and ten" | "eight hundred and eleven" | "eight hundred and twelve" | "eight hundred and thirteen" | "eight hundred and fourteen" | "eight hundred and fifteen" | "eight hundred and sixteen" | "eight hundred and seventeen" | "eight hundred and eighteen" | "eight hundred and nineteen" | "eight hundred and twenty" | "eight hundred and twenty one" | "eight hundred and twenty two" | "eight hundred and twenty three" | "eight hundred and twenty four" | "eight hundred and twenty five" | "eight hundred and twenty six" | "eight hundred and twenty seven" | "eight hundred and twenty eight" | "eight hundred and twenty nine" | "eight hundred and thirty" | "eight hundred and thirty one" | "eight hundred and thirty two" | "eight hundred and thirty three" | "eight hundred and thirty four" | "eight hundred and thirty five" | "eight hundred and thirty six" | "eight hundred and thirty seven" | "eight hundred and thirty eight" | "eight hundred and thirty nine" | "eight hundred and forty" | "eight hundred and forty one" | "eight hundred and forty two" | "eight hundred and forty three" | "eight hundred and forty four" | "eight hundred and forty five" | "eight hundred and forty six" | "eight hundred and forty seven" | "eight hundred and forty eight" | "eight hundred and forty nine" | "eight hundred and fifty" | "eight hundred and fifty one" | "eight hundred and fifty two" | "eight hundred and fifty three" | "eight hundred and fifty four" | "eight hundred and fifty five" | "eight hundred and fifty six" | "eight hundred and fifty seven" | "eight hundred and fifty eight" | "eight hundred and fifty nine" | "eight hundred and sixty" | "eight hundred and sixty one" | "eight hundred and sixty two" | "eight hundred and sixty three" | "eight hundred and sixty four" | "eight hundred and sixty five" | "eight hundred and sixty six" | "eight hundred and sixty seven" | "eight hundred and sixty eight" | "eight hundred and sixty nine" | "eight hundred and seventy" | "eight hundred and seventy one" | "eight hundred and seventy two" | "eight hundred and seventy three" | "eight hundred and seventy four" | "eight hundred and seventy five" | "eight hundred and seventy six" | "eight hundred and seventy seven" | "eight hundred and seventy eight" | "eight hundred and seventy nine" | "eight hundred and eighty" | "eight hundred and eighty one" | "eight hundred and eighty two" | "eight hundred and eighty three" | "eight hundred and eighty four" | "eight hundred and eighty five" | "eight hundred and eighty six" | "eight hundred and eighty seven" | "eight hundred and eighty eight" | "eight hundred and eighty nine" | "eight hundred and ninety" | "eight hundred and ninety one" | "eight hundred and ninety two" | "eight hundred and ninety three" | "eight hundred and ninety four" | "eight hundred and ninety five" | "eight hundred and ninety six" | "eight hundred and ninety seven" | "eight hundred and ninety eight" | "eight hundred and ninety nine" | "nine hundred" | "nine hundred and one" | "nine hundred and two" | "nine hundred and three" | "nine hundred and four" | "nine hundred and five" | "nine hundred and six" | "nine hundred and seven" | "nine hundred and eight" | "nine hundred and nine" | "nine hundred and ten" | "nine hundred and eleven" | "nine hundred and twelve" | "nine hundred and thirteen" | "nine hundred and fourteen" | "nine hundred and fifteen" | "nine hundred and sixteen" | "nine hundred and seventeen" | "nine hundred and eighteen" | "nine hundred and nineteen" | "nine hundred and twenty" | "nine hundred and twenty one" | "nine hundred and twenty two" | "nine hundred and twenty three" | "nine hundred and twenty four" | "nine hundred and twenty five" | "nine hundred and twenty six" | "nine hundred and twenty seven" | "nine hundred and twenty eight" | "nine hundred and twenty nine" | "nine hundred and thirty" | "nine hundred and thirty one" | "nine hundred and thirty two" | "nine hundred and thirty three" | "nine hundred and thirty four" | "nine hundred and thirty five" | "nine hundred and thirty six" | "nine hundred and thirty seven" | "nine hundred and thirty eight" | "nine hundred and thirty nine" | "nine hundred and forty" | "nine hundred and forty one" | "nine hundred and forty two" | "nine hundred and forty three" | "nine hundred and forty four" | "nine hundred and forty five" | "nine hundred and forty six" | "nine hundred and forty seven" | "nine hundred and forty eight" | "nine hundred and forty nine" | "nine hundred and fifty" | "nine hundred and fifty one" | "nine hundred and fifty two" | "nine hundred and fifty three" | "nine hundred and fifty four" | "nine hundred and fifty five" | "nine hundred and fifty six" | "nine hundred and fifty seven" | "nine hundred and fifty eight" | "nine hundred and fifty nine" | "nine hundred and sixty" | "nine hundred and sixty one" | "nine hundred and sixty two" | "nine hundred and sixty three" | "nine hundred and sixty four" | "nine hundred and sixty five" | "nine hundred and sixty six" | "nine hundred and sixty seven" | "nine hundred and sixty eight" | "nine hundred and sixty nine" | "nine hundred and seventy" | "nine hundred and seventy one" | "nine hundred and seventy two" | "nine hundred and seventy three" | "nine hundred and seventy four" | "nine hundred and seventy five" | "nine hundred and seventy six" | "nine hundred and seventy seven" | "nine hundred and seventy eight" | "nine hundred and seventy nine" | "nine hundred and eighty" | "nine hundred and eighty one" | "nine hundred and eighty two" | "nine hundred and eighty three" | "nine hundred and eighty four" | "nine hundred and eighty five" | "nine hundred and eighty six" | "nine hundred and eighty seven" | "nine hundred and eighty eight" | "nine hundred and eighty nine" | "nine hundred and ninety" | "nine hundred and ninety one" | "nine hundred and ninety two" | "nine hundred and ninety three" | "nine hundred and ninety four" | "nine hundred and ninety five" | "nine hundred and ninety six" | "nine hundred and ninety seven" | "nine hundred and ninety eight" | "nine hundred and ninety nine" | "one thousand".

>>> say'."seven hundred and forty two"?
--> what(A) :- say("seven hundred and forty two",A).
that: 742.

>>> count.#bag(char.say[1..100] ~" ")?
--> what(N) :- N = @countof(M), bagof((9),M).
    gather((9),(L,P0)) :- proof(P0,aggregation((12),L)).
    negation((4)," ").
    aggregation((12),G) :- G = @substring(B,H,I), J = @length(B), H = 0 .. J, K = J - H, I = 0 .. K, 1 = @length(G), say(B,A), A = 1 .. 100, not negation((4),G).
that: 864.

>>> #undef say.
>>> 
>>> % 20. Find the sum of digits in 10!
>>> factorial[N 1..12]: product.#set(1..N).
--> factorial(E,A) :- A = MuN, A = 1 .. 12, E = @productof(D), setof((10,MuN),D).
    gather((10,MuN),C) :- aggregation((13,MuN),C), A = MuN, A = 1 .. 12.
    aggregation((13,MuN),B) :- B = 1 .. MuN, A = MuN, A = 1 .. 12.
understood.

>>> factorial.10?
--> what(A) :- factorial(A,10).
that: 3628800.

>>> sum.#bag(decimal[substring.show.factorial.10 length'.1])?
--> what(O) :- O = @sumof(N), bagof((11),N).
    gather((11),(M,P0)) :- proof(P0,aggregation((14),M)).
    aggregation((14),L) :- L = @decimal(G), G = @substring(B,H,I), J = @length(B), H = 0 .. J, K = J - H, I = 0 .. K, B = @show(A), factorial(A,10), 1 = @length(G).
that: 27.

>>> 
>>> % 21. Evaluate the sum of all amicable numbers under 1000.
>>> proper_divisor[N n3]: 1..(N-1) multiple'.N.
--> proper_divisor(B,A) :- A = MuN, n3(A), B = 1 .. (MuN-1), MuN \ B = 0.
understood.

>>> aliquot[N n3]: sum.#set(proper_divisor.N).
--> aliquot(D,A) :- A = MuN, n3(A), D = @sumof(C), setof((12,MuN),C).
    gather((12,MuN),B) :- proper_divisor(B,MuN), A = MuN, n3(A).
understood.

>>> perfect(A): aliquot(A,A).
--> perfect(MuA) :- aliquot(MuA,MuA).
understood.

>>> perfect?
--> what(A) :- perfect(A).
that: 6 | 28 | 496.

>>> amicable(A,B): aliquot(A,B), aliquot(B,A), A != B.
--> amicable(MuA,MuB) :- aliquot(MuA,MuB), aliquot(MuB,MuA), MuA != MuB.
understood.

>>> amicable: amicable.n3.
--> amicable(B) :- amicable(B,A), n3(A).
understood.

>>> amicable?
--> what(A) :- amicable(A).
that: 220 | 284.

>>> #sum(amicable (<).1000)?
--> what(C) :- C = #sum { B : aggregation((15),B) }.
    aggregation((15),A) :- amicable(A), A < 1000.
that: 504.

>>> 
>>> % 23. Find the largest even positive integer which cannot be written as the sum of two abundant numbers.
>>> abundant(N n3): N < aliquot.N.
--> abundant(A) :- A = MuN, n3(A), MuN < B, aliquot(B,MuN).
understood.

>>> abundant?
--> what(A) :- abundant(A).
that: 12 | 18 | 20 | 24 | 30 | 36 | 40 | 42 | 48 | 54 | 56 | 60 | 66 | 70 | 72 | 78 | 80 | 84 | 88 | 90 | 96 | 100 | 102 | 104 | 108 | 112 | 114 | 120 | 126 | 132 | 138 | 140 | 144 | 150 | 156 | 160 | 162 | 168 | 174 | 176 | 180 | 186 | 192 | 196 | 198 | 200 | 204 | 208 | 210 | 216 | 220 | 222 | 224 | 228 | 234 | 240 | 246 | 252 | 258 | 260 | 264 | 270 | 272 | 276 | 280 | 282 | 288 | 294 | 300 | 304 | 306 | 308 | 312 | 318 | 320 | 324 | 330 | 336 | 340 | 342 | 348 | 350 | 352 | 354 | 360 | 364 | 366 | 368 | 372 | 378 | 380 | 384 | 390 | 392 | 396 | 400 | 402 | 408 | 414 | 416 | 420 | 426 | 432 | 438 | 440 | 444 | 448 | 450 | 456 | 460 | 462 | 464 | 468 | 474 | 476 | 480 | 486 | 490 | 492 | 498 | 500 | 504 | 510 | 516 | 520 | 522 | 528 | 532 | 534 | 540 | 544 | 546 | 550 | 552 | 558 | 560 | 564 | 570 | 572 | 576 | 580 | 582 | 588 | 594 | 600 | 606 | 608 | 612 | 616 | 618 | 620 | 624 | 630 | 636 | 640 | 642 | 644 | 648 | 650 | 654 | 660 | 666 | 672 | 678 | 680 | 684 | 690 | 696 | 700 | 702 | 704 | 708 | 714 | 720 | 726 | 728 | 732 | 736 | 738 | 740 | 744 | 748 | 750 | 756 | 760 | 762 | 768 | 770 | 774 | 780 | 784 | 786 | 792 | 798 | 800 | 804 | 810 | 812 | 816 | 820 | 822 | 828 | 832 | 834 | 836 | 840 | 846 | 852 | 858 | 860 | 864 | 868 | 870 | 876 | 880 | 882 | 888 | 894 | 896 | 900 | 906 | 910 | 912 | 918 | 920 | 924 | 928 | 930 | 936 | 940 | 942 | 945 | 948 | 952 | 954 | 960 | 966 | 968 | 972 | 978 | 980 | 984 | 990 | 992 | 996.

>>> ~(abundant + abundant) n3?
--> what(D) :- not negation((5),D), n3(D).
    negation((5),C) :- abundant(A), abundant(B), C = A + B.
that: 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | 11 | 12 | 13 | 14 | 15 | 16 | 17 | 18 | 19 | 20 | 21 | 22 | 23 | 25 | 26 | 27 | 28 | 29 | 31 | 33 | 34 | 35 | 37 | 39 | 41 | 43 | 45 | 46 | 47 | 49 | 51 | 53 | 55 | 57 | 59 | 61 | 63 | 65 | 67 | 69 | 71 | 73 | 75 | 77 | 79 | 81 | 83 | 85 | 87 | 89 | 91 | 93 | 95 | 97 | 99 | 101 | 103 | 105 | 107 | 109 | 111 | 113 | 115 | 117 | 119 | 121 | 123 | 125 | 127 | 129 | 131 | 133 | 135 | 137 | 139 | 141 | 143 | 145 | 147 | 149 | 151 | 153 | 155 | 157 | 159 | 161 | 163 | 165 | 167 | 169 | 171 | 173 | 175 | 177 | 179 | 181 | 183 | 185 | 187 | 189 | 191 | 193 | 195 | 197 | 199 | 201 | 203 | 205 | 207 | 209 | 211 | 213 | 215 | 217 | 219 | 221 | 223 | 225 | 227 | 229 | 231 | 233 | 235 | 237 | 239 | 241 | 243 | 245 | 247 | 249 | 251 | 253 | 255 | 257 | 259 | 261 | 263 | 265 | 267 | 269 | 271 | 273 | 275 | 277 | 279 | 281 | 283 | 285 | 287 | 289 | 291 | 293 | 295 | 297 | 299 | 301 | 303 | 305 | 307 | 309 | 311 | 313 | 315 | 317 | 319 | 321 | 323 | 325 | 327 | 329 | 331 | 333 | 335 | 337 | 339 | 341 | 343 | 345 | 347 | 349 | 351 | 353 | 355 | 357 | 359 | 361 | 363 | 365 | 367 | 369 | 371 | 373 | 375 | 377 | 379 | 381 | 383 | 385 | 387 | 389 | 391 | 393 | 395 | 397 | 399 | 401 | 403 | 405 | 407 | 409 | 411 | 413 | 415 | 417 | 419 | 421 | 423 | 425 | 427 | 429 | 431 | 433 | 435 | 437 | 439 | 441 | 443 | 445 | 447 | 449 | 451 | 453 | 455 | 457 | 459 | 461 | 463 | 465 | 467 | 469 | 471 | 473 | 475 | 477 | 479 | 481 | 483 | 485 | 487 | 489 | 491 | 493 | 495 | 497 | 499 | 501 | 503 | 505 | 507 | 509 | 511 | 513 | 515 | 517 | 519 | 521 | 523 | 525 | 527 | 529 | 531 | 533 | 535 | 537 | 539 | 541 | 543 | 545 | 547 | 549 | 551 | 553 | 555 | 557 | 559 | 561 | 563 | 565 | 567 | 569 | 571 | 573 | 575 | 577 | 579 | 581 | 583 | 585 | 587 | 589 | 591 | 593 | 595 | 597 | 599 | 601 | 603 | 605 | 607 | 609 | 611 | 613 | 615 | 617 | 619 | 621 | 623 | 625 | 627 | 629 | 631 | 633 | 635 | 637 | 639 | 641 | 643 | 645 | 647 | 649 | 651 | 653 | 655 | 657 | 659 | 661 | 663 | 665 | 667 | 669 | 671 | 673 | 675 | 677 | 679 | 681 | 683 | 685 | 687 | 689 | 691 | 693 | 695 | 697 | 699 | 701 | 703 | 705 | 707 | 709 | 711 | 713 | 715 | 717 | 719 | 721 | 723 | 725 | 727 | 729 | 731 | 733 | 735 | 737 | 739 | 741 | 743 | 745 | 747 | 749 | 751 | 753 | 755 | 757 | 759 | 761 | 763 | 765 | 767 | 769 | 771 | 773 | 775 | 777 | 779 | 781 | 783 | 785 | 787 | 789 | 791 | 793 | 795 | 797 | 799 | 801 | 803 | 805 | 807 | 809 | 811 | 813 | 815 | 817 | 819 | 821 | 823 | 825 | 827 | 829 | 831 | 833 | 835 | 837 | 839 | 841 | 843 | 845 | 847 | 849 | 851 | 853 | 855 | 857 | 859 | 861 | 863 | 865 | 867 | 869 | 871 | 873 | 875 | 877 | 879 | 881 | 883 | 885 | 887 | 889 | 891 | 893 | 895 | 897 | 899 | 901 | 903 | 905 | 907 | 909 | 911 | 913 | 915 | 917 | 919 | 921 | 923 | 925 | 927 | 929 | 931 | 933 | 935 | 937 | 939 | 941 | 943 | 945 | 947 | 949 | 951 | 953 | 955 | 959 | 961 | 967 | 971 | 973 | 977 | 979 | 983 | 989 | 991 | 995 | 997.

>>> #max(that even)?
--> what(C) :- C = #max { B : aggregation((16),B) }.
    aggregation((16),A) :- that(A), A \ 2 = 0.
that: 46.

>>> 
>>> % 25. What is the first term in the Fibonacci sequence to contain 10 digits?
>>> fib N: count.#bag(digit.N) = 10?
--> what(Q) :- fib(Q), Q = MuN, P = 10, P = @countof(O), bagof((13,MuN),O).
    gather((13,MuN),(N,P0)) :- proof(P0,aggregation((17,MuN),N)), fib(Q), Q = MuN, P = 10.
    aggregation((17,MuN),G) :- G = @decimal(H), H = @substring(I,J,K), L = @length(I), J = 0 .. L, M = L - J, K = 0 .. M, 1 = @length(H), I = @show(MuN), fib(Q), Q = MuN, P = 10.
that: 1134903170.

>>> 
>>> % 29. How many distinct terms are in the sequence generated by a^b for 2  a  9 and 2  b  9?
>>> (2..9)**(2..9)?
--> what(C) :- A = 2 .. 9, B = 2 .. 9, C = A ** B.
that: 4 | 8 | 16 | 32 | 64 | 128 | 256 | 512 | 9 | 27 | 81 | 243 | 729 | 2187 | 6561 | 19683 | 1024 | 4096 | 16384 | 65536 | 262144 | 25 | 125 | 625 | 3125 | 15625 | 78125 | 390625 | 1953125 | 36 | 216 | 1296 | 7776 | 46656 | 279936 | 1679616 | 10077696 | 49 | 343 | 2401 | 16807 | 117649 | 823543 | 5764801 | 40353607 | 32768 | 2097152 | 16777216 | 134217728 | 59049 | 531441 | 4782969 | 43046721 | 387420489.

>>> #count(that)?
--> what(B) :- B = #count { A : that(A) }.
that: 54.

>>> thanks.
YOU'RE WELCOME!
