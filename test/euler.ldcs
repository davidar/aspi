% 1. Add all the natural numbers below 1000 that are multiples of 3 or 5.
#sum(0..999 multiple[3|5])?

% 2. Find the sum of all the even-valued terms in the Fibonacci sequence which do not exceed one million.
fib[0]: 0.
fib[1]: 1.
fib[N 2..45]: fib[N-1] + fib[N-2].
fib: fib[0..45].
#set(fib)?
#bag(fib)?
proof.fib(13)?
#sum(even fib (<).1000000)?

% 3. Find the largest prime factor of 42.
composite: N multiple[2..(N-1)] n3.
prime: (>).1 ~composite n3.
prime?
factor[X n3]: prime multiple'[X].
factor.42?
#most((>), factor.42)?

% 4. Find the largest palindrome made from the product of two 2-digit numbers.
show'[S reverse.S] (10..99)*(10..99)?
#most((>), show'[S reverse.S] (10..99)*(10..99))?

% 5. What is the smallest number divisible by each of the numbers 1 to 10?
#most((<), #each(multiple, 1..10) n4)?

% 6. What is the difference between the sum of the squares and the square of the sums?
#sum((1..100) ** 2)?
#sum(1..100) ** 2?

% 7. Find the 101st prime.
#enumerate(101, prime)?

% 8. Discover the largest product of four consecutive digits in the 10-digit number.
four_digits: substring."0319989000" length'.4.
four_digits?
#macro char.S: substring.S length'.1.
product.#bag(decimal.char.S): four_digits(S)?
#max(that)?

% 9. There is only one Pythagorean triplet, {a, b, c}, for which a + b + c = 96. Find the product abc.
pythag(A n2, B n2, C n2): (A**2) = ((B**2) + (C**2)).
pythag[3,4]?
triple(A,B,C): pythag(A,B,C)?
triple(A,B,C): pythag(A,B,C), ((A+B)+C) = 96?
(A*B)*C: pythag(A,B,C), ((A+B)+C) = 96?

% 10. Calculate the sum of all the primes below one hundred.
#sum(prime (<).100)?

% 12. What is the first triangle number to have over twenty divisors?
triangle: sum.#set(1..N): N = 1..99.
triangle (<).100?
divisor[X n3]: multiple'[X] n3.
divisors[X n3]: count.#set(divisor.X).
triangle N: divisors.N > 20?
#most((<), that)?
divisor.that?

% 14. Find the longest Collatz sequence using a starting number under ten.
collatz[N even n3]: N / 2.
collatz[N odd n3]: (3*N) + 1.
collatz_steps.1: 0.
collatz_steps[N (>).1 n3]: 1 + collatz_steps[collatz.N].
collatz_steps[1..10]?
#max(collatz_steps[1..10])?
#argmax(collatz_steps, 1..10)?

% 16. What is the sum of the digits of the number 2^10?
2**10?
#macro digit.N: decimal.char.show.N.
sum.#bag(digit[2**10])?

% 20. Find the sum of digits in 10!
factorial[N 1..12]: product.#set(1..N).
factorial.10?
sum.#bag(decimal[substring.show.factorial.10 length'.1])?
