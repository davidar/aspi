>>> % 2. Find the sum of all the even-valued terms in the Fibonacci sequence which do not exceed one million.
>>> #mode fib(in,out).
>>> #pragma memo(fib/2).
>>> fib[0]: 0.
--> fib(0,0).
understood.

>>> fib[1]: 1.
--> fib(1,1).
understood.

>>> fib[N 2..45]: fib[N-1] + fib[N-2].
--> fib(B,C+D) :- B = MuN, B = A, nondet_int_in_range(2,45,A), fib(MuN-1,C), fib(MuN-2,D).
understood.

>>> fib: fib[0..45].
--> fib(B) :- fib(A,B), nondet_int_in_range(0,45,A).
understood.

>>> {fib}?
--> :- mode gather1(out) is nondet.
    gather1(A) :- fib(A).
    :- mode what(out) is nondet.
    what(B) :- solutions(gather1,B).
that: list(0,1,2,3,5,8,13,21,34,55,89,144,233,377,610,987,1597,2584,4181,6765,10946,17711,28657,46368,75025,121393,196418,317811,514229,832040,1346269,2178309,3524578,5702887,9227465,14930352,24157817,39088169,63245986,102334155,165580141,267914296,433494437,701408733,1134903170).

>>> {{fib}}?
--> :- mode gather2(out) is nondet.
    gather2(A) :- fib(A).
    :- mode what(out) is nondet.
    what(B) :- sorted_solutions(gather2,B).
that: list(0,1,1,2,3,5,8,13,21,34,55,89,144,233,377,610,987,1597,2584,4181,6765,10946,17711,28657,46368,75025,121393,196418,317811,514229,832040,1346269,2178309,3524578,5702887,9227465,14930352,24157817,39088169,63245986,102334155,165580141,267914296,433494437,701408733,1134903170).

>>> sum{even fib (< 1000000)}?
--> :- mode gather3(out) is nondet.
    gather3(A) :- even(A), fib(A), A < 1000000.
    :- mode what(out) is nondet.
    what(C) :- sum(B,C), solutions(gather3,B).
that: 1089154.

>>> thanks.
YOU'RE WELCOME!
