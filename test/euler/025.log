>>> % 25. What is the first term in the Fibonacci sequence to contain 10 digits?
>>> #mode fib(in,out).
>>> #pragma memo(fib/2).
>>> fib[0]: 0.
--> fib(0,0).
understood.

>>> fib[1]: 1.
--> fib(1,1).
understood.

>>> fib[N 2..45]: fib[N-1] + fib[N-2].
--> fib(B,C+D) :- B = MuN, B = A, nondet_int_in_range(2,45,A), fib(MuN-1,C), fib(MuN-2,D).
understood.

>>> fib: fib[0..45].
--> fib(B) :- fib(A,B), nondet_int_in_range(0,45,A).
understood.

>>> #macro char.S: substring[S, 1..length.S, 1].
--> char(MuS,C) :- between(MuS,B - 1,(B + 1) - 1,C), nondet_int_in_range(1,A,B), length(MuS,A).
understood.

>>> #macro digit.N: decimal.char.show.N.
--> digit(MuN,G) :- decimal(D,G), between(A,E - 1,(E + 1) - 1,D), nondet_int_in_range(1,F,E), length(A,F), show(MuN,A).
understood.

>>> fib?
--> what(A) :- fib(A).
that: 0 | 1 | 2 | 3 | 5 | 8 | 13 | 21 | 34 | 55 | 89 | 144 | 233 | 377 | 610 | 987 | 1597 | 2584 | 4181 | 6765 | 10946 | 17711 | 28657 | 46368 | 75025 | 121393 | 196418 | 317811 | 514229 | 832040 | 1346269 | 2178309 | 3524578 | 5702887 | 9227465 | 14930352 | 24157817 | 39088169 | 63245986 | 102334155 | 165580141 | 267914296 | 433494437 | 701408733 | 1134903170.

>>> that N :- count{{digit.N}} = 10?
--> gather1(MuN,E) :- decimal(F,E), between(G,H - 1,(H + 1) - 1,F), nondet_int_in_range(1,I,H), length(G,I), show(MuN,G), that(L), L = MuN, K = 10.
    what(L) :- that(L), L = MuN, K = 10, count(J,K), sorted_solutions(gather1(MuN),J).
that: 1134903170.

>>> thanks.
YOU'RE WELCOME!
